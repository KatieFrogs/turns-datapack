#scores
scoreboard players set %damageing hb.var 1
scoreboard players operation %temp hb.var = @s hb.absorption
scoreboard players operation %temp hb.var -= %global_absorption hb.var
#summon damageing slime
execute at @s if score %temp hb.var matches 1 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:1},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 2 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:1.5},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 3 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:2},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 4 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:2.75},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 5 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:3.5},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 6 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:4},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 7 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:4.75},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 8 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:5.5},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 9 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:6},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 10 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:6.75},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 11 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:7.5},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 12 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:8},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 13 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:8.75},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 14 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:9.5},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 15 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:10},{Name:generic.attack_knockback,Base:0}]}]}
execute at @s if score %temp hb.var matches 16 run summon area_effect_cloud ~ ~ ~ {Tags:["damage"],Duration:2147483637,Passengers:[{id:"minecraft:slime",ActiveEffects:[{Id:14b,Amplifier:1b,Duration:100,ShowParticles:0b}],Silent:1b,Size:1,Invisible:1b,Tags:["damage"],Attributes:[{Name:generic.attack_damage,Base:10.75},{Name:generic.attack_knockback,Base:0}]}]}
#give ids for removeing knockback resistance
tag @s add damage
tag @s add need_company
execute at @s run summon zombie ~ ~100 ~ {Invulnerable:1b,PersistenceRequired:1b,NoAI:1b,NoGravity:1b,Tags:["armor_storage","need_company"]}
attribute @s minecraft:generic.knockback_resistance base set 10
#resistance
execute if entity @s[nbt={ActiveEffects:[{Id:11b}]}] run function heart_bound:absorption/store_resistance
schedule function heart_bound:absorption/slime_attack 4t
#armor system
schedule function heart_bound:absorption/find_player 1t
